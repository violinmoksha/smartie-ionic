<!--
  Generated template for the SchoolPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <!-- <ion-icon name="{{ 'menu' | translate }}"></ion-icon> -->
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{ 'schoolRegistration' }}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <!-- <div>
    <h4>Debug</h4>
    <pre>Form : {{SchoolForm.value | json }}</pre>
    <pre>Form Status : {{SchoolForm.status }}</pre>
    <pre>Toggle Status : {{ SchoolForm.get('partOfSchool').value }}</pre>
  </div> -->

  <form [formGroup]="SchoolForm" name="SchoolForm" (ngSubmit)="SchoolSubmit(SchoolForm.value)" novalidate>
    <div class="list list-inset registration school">

      <div class="school-pic">
        <img id="picForSchool" (click)="chooseUploadType($event, 'school')" [src]="pageSchoolSrc" width="300px" *ngIf="!schoolPhotoSelected && !schoolPhotoTaken" />
        <img (click)="chooseUploadType($event, 'school')" [src]="schoolCameraData" *ngIf="schoolPhotoTaken" width="150px">
        <img (click)="chooseUploadType($event, 'school')" [src]="schoolCameraUrl" *ngIf="schoolPhotoSelected" width="150px">
        <span class="input-label">Upload your school photo</span>
      </div>

      <div class="profile-pic">
        <img id="picForDisplay" (click)="chooseUploadType($event,'prof')" [src]="pageProfileSrc" width="150px" *ngIf="!profilePhotoSelected && !profilePhotoTaken" />
        <img (click)="chooseUploadType($event,'prof')" [src]="profileCameraData" *ngIf="profilePhotoTaken" width="150px">
        <img (click)="chooseUploadType($event,'prof')" [src]="profileCameraUrl" *ngIf="profilePhotoSelected" width="150px">
        <span class="input-label">Upload your photo</span>
      </div>

      <label class="item item-input">
        <span class="input-label">School Name</span>
        <ion-input placeholder="eg: St. John High School" type="text" formControlName="schoolName"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['schoolName'].valid && SchoolForm.controls['schoolName'].touched" class="item item-message">
        School Name is required
      </div>

      <label class="item item-input">
        <span class="input-label">Representative / Contact Person Name</span>
        <ion-input placeholder="eg: John Doe" type="text" formControlName="contactName"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['contactName'].valid && SchoolForm.controls['contactName'].touched" class="item item-message">
        Contact Person Name is required
      </div>

      <label class="item item-input">
        <span class="input-label">Representative / Contact Position at School</span>
        <ion-input placeholder="eg: Principle" type="text" formControlName="contactPosition"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['contactPosition'].valid && SchoolForm.controls['contactPosition'].touched" class="item item-message">
        Contact Position is required
      </div>

      <label class="item item-input">
        <span class="input-label">Username</span>
        <ion-input placeholder="johndoe" type="text" formControlName="username"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['username'].valid && SchoolForm.controls['username'].touched" class="item item-message">
        User name is required
      </div>

      <div formGroupName="passwords">
        <label class="item item-input">
          <span class="input-label">Password</span>
          <ion-input placeholder="********" type="password" formControlName="password"></ion-input>
        </label>

        <div class="item item-message" *ngIf="SchoolForm.get('passwords.password').invalid && SchoolForm.get('passwords.password').touched">
          Password is required, Password must be longer than 6 characters
        </div>

        <label class="item item-input">
          <span class="input-label">Confirm Password</span>
          <ion-input placeholder="********" type="password" formControlName="confPassword"></ion-input>
        </label>

        <div class="item item-message" *ngIf="SchoolForm.get('passwords.confPassword').invalid && SchoolForm.get('passwords.confPassword').touched">
          Confirm Password is required, Confirm Password must be longer than 6 characters
        </div>
        <div class="item item-message" *ngIf="SchoolForm.get('passwords').errors !== null && SchoolForm.get('passwords.confPassword').touched">
          Password not match
        </div>
      </div>


      <label class="item item-input">
        <span class="input-label">Phone No</span>
        <ion-input placeholder="9999 999 999" type="tel" formControlName="phone"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['phone'].valid && SchoolForm.controls['phone'].touched" class="item item-message">
        Phone number is required
      </div>

      <label class="item item-input">
        <span class="input-label">Email</span>
        <ion-input placeholder="yourmail@mail.com" type="email" formControlName="email"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['email'].valid && SchoolForm.controls['email'].touched" class="item item-message">
        Email is required
      </div>

      <ion-item>
        <ion-label>Levels Required</ion-label>
        <ion-select formControlName="requiredLevel">
          <ion-option value="">Select</ion-option>
          <ion-option value="k">K</ion-option>
          <ion-option value="primary">Primary</ion-option>
          <ion-option value="highSchool">High School</ion-option>
          <ion-option value="university">University</ion-option>
        </ion-select>
      </ion-item>

      <div *ngIf="!SchoolForm.controls['requiredLevel'].valid && SchoolForm.controls['requiredLevel'].touched" class="item item-message">
        Please select any one
      </div>

      <ion-item>
        <ion-label>Needed Language of expertise</ion-label>
        <ion-select formControlName="expertiseLangNeed">
          <ion-option value="">Select</ion-option>
          <ion-option value="english">English</ion-option>
          <ion-option value="thai">Thai</ion-option>
        </ion-select>
      </ion-item>

      <div *ngIf="!SchoolForm.controls['expertiseLangNeed'].valid && SchoolForm.controls['expertiseLangNeed'].touched" class="item item-message">
        Please select any one
      </div>

      <label class="item item-input">
        <span class="input-label">Info about you (This will be displayed in your profile)</span>
        <ion-input placeholder="Message" type="text" formControlName="schoolMessage"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['schoolMessage'].valid && SchoolForm.controls['schoolMessage'].touched" class="item item-message">
        School Message is required
      </div>

      <label class="item item-input">
        <span class="input-label">Prefered Learning Location</span>
        <ion-input placeholder="Location name" type="text" formControlName="preferedLearningLocation"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['preferedLearningLocation'].valid && SchoolForm.controls['preferedLearningLocation'].touched" class="item item-message">
        Prefered Learning Location is required
      </div>

      <label class="item item-input">
        <span class="input-label">Desired Hourly Price Range</span>
        <ion-input placeholder="10$ Per Hour" type="text" formControlName="desiredHourlyPriceRange"></ion-input>
      </label>

      <div *ngIf="!SchoolForm.controls['desiredHourlyPriceRange'].valid && SchoolForm.controls['desiredHourlyPriceRange'].touched" class="item item-message">
        Desired Hourly Price Range is required
      </div>
    </div>
    <button class="button button-positive" [disabled]="!SchoolForm.valid" ion-button full>Submit</button>
  </form>

</ion-content>
